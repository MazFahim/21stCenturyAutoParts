<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <title>{% block title %}{% endblock %}</title>
    <style>
        body{
            margin: 0;
        }
        nav {
            background-color: #008080;
            overflow: hidden;
        }
        ul{
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        li{
            width: auto;
            margin-right: 30px;
        }
        a{
            display: block;
            color: white;
            text-align: center;
            padding: 6px 6px;
            text-decoration: none;
        }
        .search-container{
            margin-top: 5px;
        }
        .search-container input[type="text"] {
            border-radius: 5px;
        }
        .dropdown{
            position: relative;
            display: inline-block;
        }
        .dropdown-menu{
            display: none;
        }
        .dropdown-menu li {
            display: inline-block; 
            padding: 8px 16px;
        }
        .dropdown-menu li a {
            text-decoration: none;
            color: black;
            display: block;
        }
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href="/">Logo</a></li>
            <li>
                <div class="search-container">
                    <form action="" method="get">
                        <div style="position: relative;">
                            <input type="text" placeholder="Search.." class="search-box" name="searchedItem" style="padding-left: 30px;">
                            <img src="{% static 'icons-search.png' %}" alt="Search" style="height:21px; position: absolute; right: 8px; top: 50%; transform: translateY(-50%);">
                        </div>
                    </form>
                </div>
            </li>
            <li><a href="/">HOME</a></li>
            <!-- <li class="dropdown">
                <a href="#" class="dropdown-toggle" onclick="show_spare_parts_menu()">USED SPARE PARTS â–¼</a>
                <ul class="dropdown-menu" id="dropdownMenuContent">
                    <li><a href="/option1/">Option 1</a></li>
                    <li><a href="/option2/">Option 2</a></li>
                </ul>
            </li> -->
            <li><a href="/spare_parts/">SPARE PARTS</a></li>
            <li><a href="/used_cars/">USED CARS</a></li>
            <li><a href="/car_services/">CAR SERVICES</a></li>
            <li><a href="/about/">ABOUT</a></li>
            <li><a href="/contact_us/">CONTACT US</a></li>
        </ul>
    </nav>
</body>
<script>
    function show_spare_parts_menu(){
        const dropdownContent = document.getElementById("dropdownMenuContent");
        if(dropdownContent){
            if(dropdownContent.style.display === "block"){
                dropdownContent.style.display = "none";
            }
            else{
                dropdownContent.innerHTML = "";
                fetch('/get-spare-parts-options/')
                    .then(response => response.json())
                    .then(data =>{
                     data.forEach(option =>{
                        const listItem = document.createElement("li");
                        const link = document.createElement("a");
                        link.href = option.option_url;
                        link.textContent = option.option_title;
                        listItem.appendChild(link);
                        dropdownContent.appendChild(listItem);
                        console.log(dropdownContent);
                        console.log('Completed the loop');
                     });
                     dropdownContent.style.display = "block";
                    })
                    .catch(error => console.error('Error:',error));
            }
            dropdownContent.style.display = dropdownContent.style.display === "block" ? "none" : "block";
        }
    }
</script>
</html>